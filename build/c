using System;
using PIM_3.model;

List<Livros> livros = [];

Admin admin = new Admin
{
    Nome = "admin",
    Senha = "1234"
};

Console.Write("Digite o nome de usuário: ");
string nome = Console.ReadLine();

Console.Write("Digite a senha: ");
string senha = Console.ReadLine();

if (!admin.VerifLogin(nome, senha))
{
    Console.WriteLine("Nome de usuário ou senha incorretos.");
    return;
}

Console.WriteLine("\nLogin realizado com sucesso!");

int opcao;
do
{
    Console.WriteLine("\n===== MENU =====");
    Console.WriteLine("1. Cadastrar Livro");
    Console.WriteLine("2. Emprestar Livro");
    Console.WriteLine("3. Consultar Livros");
    Console.WriteLine("4 - Verificar disponibilidade do livro");
    Console.WriteLine("5 - Registrar devolução");
    Console.WriteLine("0 - Sair");
    Console.Write("Escolha uma opção: ");
    opcao = int.Parse(Console.ReadLine());

    switch (opcao)
    {
        case 1:
            Livros novoLivro = admin.CadastrarLivro();
            livros.Add(novoLivro);
            Console.WriteLine("Livro Cadastrado com Sucesso!");
            break;


        case 2:
            Emprestimo emprestimo = new Emprestimo();
            if (emprestimo.EscolherELancarEmprestimo(livros))
            {
                Console.WriteLine("Livro emprestado com sucesso!");
            }
            break;

        case 3:
            admin.ConsultarLivros(livros);
            break;

        case 4:
            Console.Write("Digite o ISBN do livro que deseja verificar: ");
            string isbn = Console.ReadLine();

            Pendentes pendentes = new Pendentes();
            pendentes.VerificarDisponibilidadeLivro(isbn, livros);
            break;


        case 5:
            Console.Write("Digite o ISBN do livro que deseja devolver: ");
            string isbnDevolucao = Console.ReadLine();

            Pendentes pendentes1 = new Pendentes();
            pendentes1.RealizarDevolucaoPorISBN(isbnDevolucao, livros);
            break;


        case 0:
            Console.WriteLine("Saindo do sistema...");
            break;

        default:
            Console.WriteLine("Opção inválida!");
            break;
    }

} while (opcao != 0);


